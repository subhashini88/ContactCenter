<!DOCTYPE html>
<html lang="en">

<head>
  <title data-translatable="true">job instance details</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../../../../thirdparty/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../../app/start/web/thirdpartylibs/jquery-datepicker/jquery-ui.min.css" />
  <link rel="stylesheet" href="../../../../../com/opentext/apps/utils/css/appscommon.css" />
  <link rel="stylesheet" href="../css/jobsList.css" />
  <script src="../../../../../thirdparty/jquery/jquery.js" type="text/javascript"></script>
  <script src="../../../../../html5/cordys.html5sdk.js" type="text/javascript"></script>
  <script src="../../../../../html5/thirdparty/moment.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/knockout/knockout.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/knockout/knockout.mapping.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="../../../../../com/opentext/apps/utils/js/appscommon.js" type="text/javascript"></script>
  <script src="../../../../../com/opentext/apps/utils/js/translationsUtil.js" type="text/javascript"></script>
  <script src="../js/conditionalAuthoringUtil.js" type="text/javascript"></script>
  <script src="../js/ccupgrade.js" type="text/javascript"></script>
  <script src="../js/upgradeReportGen.js" type="text/javascript"></script>
</head>

<body class="cc-ltr">
  <div class="hidden">
    <div id="successToast" style="font-size: 18px; color: #211e1eeb;"></div>
    <div style="padding:30px 40vw">
      <div style="display: table-cell;">
        <button onclick="ccUpgrade()" class="cc-btn cc-btn-primary cc-header-btn">
          <div data-translatable="true" style="font-size: 12px;">Upgrade system</div>
        </button>
      </div>
      <!-- <div id="select_upgrade" style="display: table-cell;">
        <select id="sectionList" style="display: table-cell; min-width: 200px; margin: 0px; width: 250px;"
          aria-placeholder="Section lists" title="Navigate to section" onchange="ccSelectUpgradeVersion()">
        </select>
      </div> -->
    </div>
  </div>
  <div id="executedorExternalContract" class="col-xs-12 defaultInfo" style="display: none;font-size: 2em !important;">
    <p data-translatable="true">No Jobs present.</p>
  </div>

  <div id="jobs_create_failed_main_div" style="display: none;">
    <div id="jobs_create_failed_message_div" class="errorInfo">
      <img src="../img/notification_error.svg" width="25px" height="25px" align="middle"
        style="margin: -5px 5px 0px 5px;">

    </div>
  </div>
  <div id="List_container" class="col-md-12">
    <div class="cc-filter no-padding" data-bind="css:{'hide-transition':!filterExpand(),'col-md-3':filterExpand()}">
      <div id="filter_panel" class="panel panel-default">
        <div class="panel-heading">
          <button class="btn btn-primary cc-text-button-primary" data-bind="click:ApplyFilter" id="id_applyFilter"
            data-translatable="true"><span data-translatable="true">Apply</span></button>
          <button class="btn btn-default cc-text-button" data-bind="click:ClearFilter" id="id_clearFilter"
            data-translatable="true"><span data-translatable="true">Clear</span></button>
        </div>
        <div id="filter_panel_body" class="panel-body col-md-12 side-padding flex-column">
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">Upgrade type</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterUpgradeTypeExpand()},click:function(){
                          toggle(filterUpgradeTypeExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterUpgradeTypeExpand()},click:function(){
                          toggle(filterUpgradeTypeExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterUpgradeTypeExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterUpgradeType
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterUpgradeTypeInput"></input>
              </div>
            </div>
          </div>
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">From version</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterFromVersionExpand()},click:function(){
                          toggle(filterFromVersionExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterFromVersionExpand()},click:function(){
                          toggle(filterFromVersionExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterFromVersionExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterFromVersion
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterFromVersionInput"></input>
              </div>
            </div>
          </div>
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">To version</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterToVersionExpand()},click:function(){
                          toggle(filterToVersionExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterToVersionExpand()},click:function(){
                          toggle(filterToVersionExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterToVersionExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterToVersion
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterToVersionInput"></input>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="cc-list no-padding" data-bind="css:{'col-md-9':filterExpand(),'col-md-12':!filterExpand()}">
      <div class="cc-header" style="background-color: white;height: 45px;width: 100%;z-index: 1;top: 0;">
        <div class="cc-error-info-area" id="div_listErrorInfoArea">
          <img src="../../../../../com/opentext/apps/utils/img/notification_error.svg"
            style="width: 11px; height: 11px;" />
          <span id="span_errorInfoMessage" style="position: relative;"></span>
        </div>
        <button class="btn btn-default cc-button" id="id_filterActivityList" data-bind="click:openFilter">
          <img class="cc-icon" alt="Filter" src="../../../../../com/opentext/apps/utils/img/filter.svg">
        </button>
        <button class="btn btn-default cc-button" data-bind="click:openUpgradeJobCreateForm">
          <img class="cc-icon" alt="Add" src="../../../../../com/opentext/apps/utils/img/add.svg"
            id="id_createActivityListIcon">
        </button>
        <div class="cc-vertical-line-separator" style="height: 85%;position: relative;"></div>
        <button class="btn btn-default cc-text-button" id="id_openActivityListActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Open</span></button>
        <button class="btn btn-default cc-text-button" id="id_editActivityListActionBar" style="display: none;"> <span
            data-translatable="true">Edit</span></button>
        <button class="btn btn-default cc-text-button" id="id_deleteActivityListActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Delete</span></button>
        <button class="btn btn-default cc-text-button" id="id_clearFilterActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Clear filters</span></button>
      </div>
      <div class="table-responsive ">
        <div class="table-container-body">
          <table id="id_jobListTable" class="table">
            <thead class="table-container">
              <tr>
                <th style="width: 20%;" data-translatable="true">Job id</th>
                <th style="width: 20%;" data-translatable="true">Upgrade status</th>
                <th style="width: 20%;" data-translatable="true">Upgrade type</th>
                <th style="width: 10%;" data-translatable="true">From version</th>
                <th style="width: 10%;" data-translatable="true">To version</th>
                <th style="width: 10%;" data-translatable="true">Action</th>
              </tr>
            </thead>
            <tbody data-bind="foreach:jobsList">
              <tr style="position: relative;" data-bind="click:$root.populateBatchJobList">
                <td>
                  <span data-bind="text:Id"></span>
                </td>
                <td>
                  <span data-bind="text:UpgradeStatus"></span>
                </td>
                <td>
                  <span data-bind="text:UpgradeEntityType"></span>
                </td>
                <td>
                  <span data-bind="text:FromVersion"></span>
                </td>
                <td>
                  <span data-bind="text:ToVersion"></span>
                </td>
                <td>
                  <button class="btn btn-default cc-button" id="id_editcustomAttributes" title="Retrigger"
                    data-bind="click:$root.ContractRetriggerUpgrade,css:{'hidden':$data.UpgradeStatus()!='FAILED'}">
                    <img class="cc-tr-icon" alt="Edit"
                      src="../../../../../com/opentext/apps/cc/img/refresh24_li_dis.svg">
                  </button>
                  <button class="btn btn-default cc-button" id="id_editcustomAttributes" title="Export excel"
                    data-bind="click:downloadReport,css:{'hidden':$data.UpgradeStatus()!='FAILED'}">
                    <img class="cc-tr-icon" alt="Edit" src="../../../../../com/opentext/apps/cc/img/view_comments.svg">
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="cc-container">
          <div data-bind="template:{name:'Pagination_Template'}"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="create_batchjob_modal" role="dialog" style="z-index: 3999;">
    <div class="modal-content cc-modal-content" id="id_createOrgSummaryModal"
      style="display: block; width:25%; margin: auto;z-index: 3999; margin-top: 2%; height: 50%;">
      <div class="modal-header cc-modal-header" style="padding: 8px;">
        <button type="button" class="close" data-dismiss="modal">
          <img src="../../../../../com/opentext/apps/utils/img/Close_black.svg"
            style="width: 10.25px; height: 10.61px;" />
        </button>
        <div class="modal-title">
          <span id="id_createOrgModalType" style="font-size: 2rem;" data-translatable="true">
            Creat upgrade job
          </span>
        </div>
      </div>
      <div class="modal-body cc-modal-body" style="height: 83%;overflow: auto;padding: 15px 0px;">
        <div class="cc-error-info-area" id="div_modalCreateErrorInfoArea"
          data-bind="template:{name:'ErrorHeader_Template'}"></div>
        <div id="department_main_div">
          <div id="createdepartmentdetails" class="col-md-12 top-padding" style="padding-top: 30px;">
            <div id="orgDetail1" class="col-md-12 no-padding">
              <div id="select_upgrade" style="display: table-cell;">
                <!--ko if:(fromVersion() != toVersion()) -->
                <label data-translatable="true" for="parentOrgName">Select CC upgrade from version</label>
                <select id="sectionList_ccversion"
                  style="display: table-cell; min-width: 200px; margin: 0px; width: 250px;"
                  aria-placeholder="Section lists" title="Navigate to section"
                  data-bind="options:fromVersionSelect,value:fromVersion,attr:{'disabled':selectDisabled}">
                </select>
                <!--/ko-->
                <!--ko ifnot:(fromVersion() != toVersion()) -->
                <label data-translatable="true" for="parentOrgName">System upgraded to latest version</label>
                <!--/ko-->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer button-container" style="height: 50px !important;">
        <!--ko if:(fromVersion() != toVersion()) -->
        <button type="submit" class="cc-btn cc-btn-primary" id="createJob" data-bind="click:createUpgradeJob"
          onclick="ccUpgrade()">Upgrade system</button>
        <!--/ko-->
        <button type="cancel" class="cc-btn cc-btn-secondary" data-dismiss="modal"
          data-bind="click:cancelUpgradeJob"><span data-translatable="true">Cancel</span></button>
      </div>
    </div>
  </div>
  <script type="text/html" id="Pagination_Template">
    <div style="text-align: center;padding: 0px;" class="cc-footer">
      <ul class="pull-left pagination" style="margin:0;">
        <li class="li-pagination">
          <span data-translatable="true">25 per page</span>
        </li>
      </ul>
      <ul class="pagination" style="margin: 0;">
        <li class="li-pagination">
          <a id="itemsCount"
            style="border: 0; color: black; padding-left: 8px; cursor: auto;background-color: transparent;">
            <span data-bind="text:totalListsCount"></span>
            <span data-translatable="true">result(s)</span>
          </a>
        </li>
      </ul>
      <ul class="pagination pull-right" style="margin: 0;">
        <li class="li-pagination li_ListLeftNavigation" style="cursor: pointer;" data-bind="css:{hidden:hideDecrement}">
          <a data-bind="click:decrementToLast">
            <img class="cc-pagination-icon rotated-90" alt="FirstPage"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToFirstPage">
            <img class="cc-pagination-icon rotated-90" alt="FirstPage"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg">
          </a>
          <a data-bind="click:decrementOffsetLimit">
            <img class="cc-pagination-icon rotated-90" alt="PreviousPage" style="margin-top: 0.2em;"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToPreviousPage">
          </a>
        </li>
        <li class="li-pagination">
          <span>
            <input class="cc-pagination-pageInput" id="input_pageNumInputParameter" data-bind="value:currentPage"
              disabled style="border: none !important;background-color: transparent !important;background-image: none !important;box-shadow: none !important;padding: 5px 5px 10px 5px;"/>
            <span data-translatable="true"> of </span>
            <span style="margin-left: .5em;margin-right: .5em;" data-bind="text:ko.computed(function(){
              return (isNaN(totalListsCount()) || totalListsCount()==0) ? 1 : Math.ceil(totalListsCount() / defaultPerPage);
            })"></span>
          </span>
        </li>
        <li class="li-pagination li_ListRightNavigation" style="cursor:pointer" data-bind="css:{hidden:hideIncrement}">
          <a data-bind="click:incrementOffsetLimit">
            <img class="cc-pagination-icon rotated-270" alt="NextPage" style="margin-top: 0.2em;"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="id_nextPage">
          </a>
          <a data-bind="click:incrementToLast">
            <img class="cc-pagination-icon rotated-270" alt="LastPage" 
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToLastPage">
            <img class="cc-pagination-icon rotated-270" alt="LastPage"
              
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg">
          </a>
        </li>
      </ul>
    </div>
  </script>
  <script type="text/html" id="ErrorHeader_Template">
    <img src="../../../../../com/opentext/apps/utils/img/notification_error.svg"
    style="width: 11px; height: 11px;" />
  <span id="span_errorInfoMessage" style="position: relative;"></span>
  </script>
</body>

</html>