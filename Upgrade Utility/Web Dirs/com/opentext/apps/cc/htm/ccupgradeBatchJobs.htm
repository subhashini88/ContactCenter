<!DOCTYPE html>
<html lang="en">

<head>
  <title data-translatable="true">job instance details</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../../../../thirdparty/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../../app/start/web/thirdpartylibs/jquery-datepicker/jquery-ui.min.css" />
  <link rel="stylesheet" href="../../../../../com/opentext/apps/utils/css/appscommon.css" />
  <link rel="stylesheet" href="../css/jobsList.css" />
  <script src="../../../../../thirdparty/jquery/jquery.js" type="text/javascript"></script>
  <script src="../../../../../html5/cordys.html5sdk.js" type="text/javascript"></script>
  <script src="../../../../../html5/thirdparty/moment.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/knockout/knockout.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/knockout/knockout.mapping.js" type="text/javascript"></script>
  <script src="../../../../../thirdparty/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="../../../../../com/opentext/apps/utils/js/appscommon.js" type="text/javascript"></script>
  <script src="../../../../../com/opentext/apps/utils/js/translationsUtil.js" type="text/javascript"></script>
  <script src="../js/conditionalAuthoringUtil.js" type="text/javascript"></script>
  <script src="../js/ccupgradeBatchJobs.js" type="text/javascript"></script>
</head>

<body class="cc-ltr">
  <div>
    <div id="successToast" style="font-size: 18px; color: #211e1eeb;"></div>

  </div>
  <div id="executedorExternalContract" class="col-xs-12 defaultInfo" style="display: none;font-size: 2em !important;">
    <p data-translatable="true">No Jobs present.</p>
  </div>

  <div id="jobs_create_failed_main_div" style="display: none;">
    <div id="jobs_create_failed_message_div" class="errorInfo">
      <img src="../img/notification_error.svg" width="25px" height="25px" align="middle"
        style="margin: -5px 5px 0px 5px;">

    </div>
  </div>

  <div id="BatchList_container" class="col-md-12">
    <div class="modal fade" id="create_batchjob_modal" role="dialog" style="z-index: 3999;">
      <div class="modal-content cc-modal-content" id="id_BatchJobSummaryModal"
        style="display: block; width:40%; margin: auto;z-index: 3999; margin-top: 2%; height: 80%;">
        <div class="modal-header cc-modal-header" style="padding: 8px;">
          <button type="button" class="close" data-dismiss="modal">
            <img src="../../../../../com/opentext/apps/utils/img/Close_black.svg"
              style="width: 10.25px; height: 10.61px;" />
          </button>
          <div class="modal-title">
            <span id="id_createOrgModalType" style="font-size: 2rem;" data-translatable="true">
              Instance list
            </span>
          </div>
        </div>
        <div class="modal-body cc-modal-body" style="height: 83%;overflow: auto;padding: 15px 0px;">
          <div id="batchJob_main_div">
            <div id="createbatchjobdetails" class="col-md-12 top-padding" style="padding-top: 30px;">
              <div class="col-md-12 cc-list" id="div_batchjobInstLists">
                <table class="table cc-border">
                  <thead>
                    <tr>
                      <th style="width: 10%;"></th>
                      <th style="width: 20%;" data-translatable="true" scope="col">Instance id</th>
                      <th style="width: 20%;" data-translatable="true" scope="col">Status</th>
                      <th style="width: 50%;" data-translatable="true" scope="col">Message</th>
                    </tr>
                  </thead>
                  <tbody data-bind="foreach:modalInstanceList">
                    <tr>
                      <td>
                      </td>
                      <td data-bind="text:InstanceId"></td>
                      <td data-bind="text:Status"></td>
                      <td data-bind="text:Message"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer button-container" style="height: 50px !important;">
        </div>
      </div>
    </div>
    <div class="cc-filter no-padding" data-bind="css:{'hide-transition':!filterExpand(),'col-md-3':filterExpand()}">
      <div id="filter_panel" class="panel panel-default">
        <div class="panel-heading">
          <button class="btn btn-primary cc-text-button-primary" data-bind="click:ApplyFilter" id="id_applyFilter"
            data-translatable="true"><span data-translatable="true">Apply</span></button>
          <button class="btn btn-default cc-text-button" data-bind="click:ClearFilter" id="id_clearFilter"
            data-translatable="true"><span data-translatable="true">Clear</span></button>
        </div>
        <div id="filter_panel_body" class="panel-body col-md-12 side-padding flex-column">
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">Job id</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterUpgradeJobIdExpand()},click:function(){
                          toggle(filterUpgradeJobIdExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterUpgradeJobIdExpand()},click:function(){
                          toggle(filterUpgradeJobIdExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterUpgradeJobIdExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterUpgradeJobId
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterUpgradeJobIdInput"></input>
              </div>
            </div>
          </div>
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">Parent job id</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterUpgradeParentJobIdExpand()},click:function(){
                          toggle(filterUpgradeParentJobIdExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterUpgradeParentJobIdExpand()},click:function(){
                          toggle(filterUpgradeParentJobIdExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterUpgradeParentJobIdExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterUpgradeParentJobId
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterUpgradeParentJobIdInput"></input>
              </div>
            </div>
          </div>
          <div>
            <span class="cc-filter-header" apps-toggle="expanded" data-target="#name_Filter" aria-expanded="false"
              aria-controls="name_Filter">
              <label data-translatable="true">Upgrade status</label>
              <img src="../../../../../com/opentext/apps/utils/img/caret_up.svg" data-bind="css:{hidden:!filterUpgradeStatusExpand()},click:function(){
                          toggle(filterUpgradeStatusExpand);
                   }"></img>
              <img src="../../../../../com/opentext/apps/utils/img/caret_down.svg" data-bind="css:{hidden:filterUpgradeStatusExpand()},click:function(){
                          toggle(filterUpgradeStatusExpand);
                   }"></img>
            </span>
            <div class="cc-filter-body" id="username_Filter" data-bind="css:{hidden:!filterUpgradeStatusExpand()}">
              <div class="form-group">
                <select disabled data-translatable="true" class="form-control cc-select" data-bind="options:filterOptions,
                            optionsText:'key',
                            optionsValue:'val',
                            value:filterUpgradeStatus
                          ">
                </select>
              </div>
              <div class="form-group">
                <input class="form-control" data-bind="value:filterUpgradeStatusInput"></input>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="cc-list no-padding" data-bind="css:{'col-md-9':filterExpand(),'col-md-12':!filterExpand()}">
      <div class="cc-header" style="background-color: white;height: 45px;width: 100%;z-index: 1;top: 0;">
        <div class="cc-error-info-area" id="div_listErrorInfoArea">
          <img src="../../../../../com/opentext/apps/utils/img/notification_error.svg"
            style="width: 11px; height: 11px;" />
          <span id="span_errorInfoMessage" style="position: relative;"></span>
        </div>
        <button class="btn btn-default cc-button" id="id_filterActivityList" data-bind="click:openFilter">
          <img class="cc-icon" alt="Filter" src="../../../../../com/opentext/apps/utils/img/filter.svg">
        </button>
        <div class="cc-vertical-line-separator" style="height: 85%;position: relative;"></div>
        <button class="btn btn-default cc-text-button" id="id_openActivityListActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Open</span></button>
        <button class="btn btn-default cc-text-button" id="id_editActivityListActionBar" style="display: none;"> <span
            data-translatable="true">Edit</span></button>
        <button class="btn btn-default cc-text-button" id="id_deleteActivityListActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Delete</span></button>
        <button class="btn btn-default cc-text-button" id="id_clearFilterActionBar" style="display: none;"
          data-translatable="true"><span data-translatable="true">Clear filters</span></button>
      </div>
      <div class="table-responsive ">
        <div class="table-container-body">
          <table id="id_batchJobListTable" class="table">
            <thead class="table-container">
              <tr>
                <th style="width: 20%;" data-translatable="true">Batch job id</th>
                <th style="width: 20%;" data-translatable="true">Parent job id</th>
                <th style="width: 20%;" data-translatable="true">Upgrade status</th>
                <th style="width: 10%;" data-translatable="true">Total count</th>
                <!-- <th style="width: 10%;" data-translatable="true">Total Ids</th> -->
                <th style="width: 10%;" data-translatable="true">Success count</th>
                <!-- <th style="width: 10%;" data-translatable="true">Success Ids</th> -->
                <th style="width: 10%;" data-translatable="true">Error count</th>
                <!-- <th style="width: 10%;" data-translatable="true">Error data</th> -->
                <th style="width: 10%;" data-translatable="true"></th>
              </tr>
            </thead>
            <tbody data-bind="foreach:batchJobsList">
              <tr style="position: relative;">
                <td>
                  <span data-bind="text:Id"></span>
                </td>
                <td>
                  <span data-bind="text:ParentId"></span>
                </td>
                <td>
                  <span data-bind="text:UpgradeStatus"></span>
                </td>
                <td>
                  <span data-bind="text:TotalCount"></span>
                </td>
                <!-- <td> -->
                <!-- <span data-bind="text:AllInstanceIds,attr:{title:AllInstanceIds}"></span> -->
                <!-- </td> -->
                <td>
                  <span data-bind="text:SuccessCount"></span>
                </td>
                <!-- <td> -->
                <!-- <span data-bind="text:SuccessIds,attr:{title:SuccessIds}"></span> -->
                <!-- </td> -->
                <td>
                  <span data-bind="text:ErrorCount"></span>
                </td>
                <!-- <td> -->
                <!-- <span data-bind="text:ErrorData"></span> -->
                <!-- </td> -->
                <td>
                  <button class="btn btn-default cc-button " title="Open report"
                    data-bind="click:$root.openUpgradeJobInstListModal">
                    <img class="cc-tr-icon" alt="Open" src="../../../../../com/opentext/apps/cc/img/preview.png">
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="cc-container">
          <div data-bind="template:{name:'Pagination_Template'}"></div>
        </div>
      </div>
    </div>
  </div>
  <script type="text/html" id="Pagination_Template">
    <div style="text-align: center;padding: 0px;" class="cc-footer">
      <ul class="pull-left pagination" style="margin:0;">
        <li class="li-pagination">
          <span data-translatable="true">25 per page</span>
        </li>
      </ul>
      <ul class="pagination" style="margin: 0;">
        <li class="li-pagination">
          <a id="itemsCount"
            style="border: 0; color: black; padding-left: 8px; cursor: auto;background-color: transparent;">
            <span data-bind="text:totalListsCount"></span>
            <span data-translatable="true">result(s)</span>
          </a>
        </li>
      </ul>
      <ul class="pagination pull-right" style="margin: 0;">
        <li class="li-pagination li_ListLeftNavigation" style="cursor: pointer;" data-bind="css:{hidden:hideDecrement}">
          <a data-bind="click:decrementToLast">
            <img class="cc-pagination-icon rotated-90" alt="FirstPage"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToFirstPage">
            <img class="cc-pagination-icon rotated-90" alt="FirstPage" 
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg">
          </a>
          <a data-bind="click:decrementOffsetLimit">
            <img class="cc-pagination-icon rotated-90" alt="PreviousPage" style="margin-top: 0.2em;"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToPreviousPage">
          </a>
        </li>
        <li class="li-pagination">
          <span>
            <input class="cc-pagination-pageInput" id="input_pageNumInputParameter" data-bind="value:currentPage"
              disabled style="border: none !important;background-color: transparent !important;background-image: none !important;box-shadow: none !important;padding: 5px 5px 10px 5px;" />
            <span data-translatable="true"> of </span>
            <span style="margin-left: .5em;margin-right: .5em;" data-bind="text:ko.computed(function(){
              return (isNaN(totalListsCount()) || totalListsCount()==0) ? 1 : Math.ceil(totalListsCount() / defaultPerPage);
            })"></span>
          </span>
        </li>
        <li class="li-pagination li_ListRightNavigation" style="cursor:pointer" data-bind="css:{hidden:hideIncrement}">
          <a data-bind="click:incrementOffsetLimit">
            <img class="cc-pagination-icon rotated-270" alt="NextPage" style="margin-top: 0.2em;"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="id_nextPage">
          </a>
          <a data-bind="click:incrementToLast">
            <img class="cc-pagination-icon rotated-270" alt="LastPage"
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg" id="img_goToLastPage">
            <img class="cc-pagination-icon rotated-270" alt="LastPage"
              
              src="../../../../../com/opentext/apps/utils/img/caret_down.svg">
          </a>
        </li>
      </ul>
    </div>
  </script>
</body>

</html>